# Migration `20210217115839`

This migration has been generated by Yuval Hazaz at 2/17/2021, 1:58:39 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "Team" ADD COLUMN     "cityId" TEXT

CREATE TABLE "City" (
    "createdAt" TIMESTAMP(3) NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "id" TEXT NOT NULL,
    "name" TEXT,
    "updatedAt" TIMESTAMP(3) NOT NULL,

    PRIMARY KEY ("id")
)

ALTER TABLE "Team" ADD FOREIGN KEY("cityId")REFERENCES "City"("id") ON DELETE SET NULL ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20210217065732-initial-version..20210217115839
--- datamodel.dml
+++ datamodel.dml
@@ -1,27 +1,37 @@
 datasource postgres {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
-model Group {
+model Team {
+  city      City?    @relation(fields: [cityId])
+  cityId    String?
   createdAt DateTime @default(now())
   id        String   @id @default(cuid())
+  updatedAt DateTime @updatedAt
+  users     User?    @relation(fields: [usersId])
+  usersId   String?
+}
+
+model City {
+  createdAt DateTime @default(now())
+  id        String   @id @default(cuid())
   name      String?
+  teams     Team[]
   updatedAt DateTime @updatedAt
-  users     User[]
 }
-model Team {
+model Group {
   createdAt DateTime @default(now())
   id        String   @id @default(cuid())
+  name      String?
   updatedAt DateTime @updatedAt
-  users     User?    @relation(fields: [usersId])
-  usersId   String?
+  users     User[]
 }
 model User {
   createdAt DateTime @default(now())
```


